// ==========================================
// DuckyScript Signed/Unsigned Stress Test
// ==========================================

STRINGLN --- SECTION 1: Representation & Printing ---
VAR neg_one = -1
VAR max_pos = 2147483647
VAR min_neg = -2147483648

// -1 is 0xFFFFFFFF. 
// As signed %d it is -1. 
// As unsigned %u it is 4294967295 (UINT_MAX).
STRINGLN [1.1] NegOne: Signed=$neg_one%d Unsigned=$neg_one%u Hex=$neg_one%x

// Max Signed Int (0x7FFFFFFF)
// As signed %d it is 2147483647.
// As unsigned %u it is 2147483647.
STRINGLN [1.2] MaxPos: Signed=$max_pos%d Unsigned=$max_pos%u Hex=$max_pos%x

// Min Signed Int (0x80000000)
// As signed %d it is -2147483648.
// As unsigned %u it is 2147483648.
STRINGLN [1.3] MinNeg: Signed=$min_neg%d Unsigned=$min_neg%u Hex=$min_neg%x


STRINGLN --- SECTION 2: Arithmetic (DIV & MOD) ---
VAR s_a = -20
VAR s_b = 6

// Signed Division: -20 / 6 should be -3 (truncates towards zero in C-style)
VAR res_sdiv = s_a / s_b
STRINGLN [2.1] Signed Div (-20 / 6): $res_sdiv%d

// Unsigned Division: UDIV treats -20 as 4294967276
// 4294967276 / 6 = 715827879
VAR res_udiv = UDIV(s_a, s_b)
STRINGLN [2.2] Unsigned Div (UDIV(-20, 6)): $res_udiv%u

// Signed Modulus: -20 % 6 should be -2
VAR res_smod = s_a % s_b
STRINGLN [2.3] Signed Mod (-20 % 6): $res_smod%d

// Unsigned Modulus: UMOD treats -20 as 4294967276
// 4294967276 % 6 = 2
VAR res_umod = UMOD(s_a, s_b)
STRINGLN [2.4] Unsigned Mod (UMOD(-20, 6)): $res_umod%u


STRINGLN --- SECTION 3: Comparisons ---
VAR small = 10
VAR big_neg = -5
// In unsigned land, -5 (0xFFFFFFFB) is MUCH larger than 10 (0x0000000A)

// Signed Comparison
// -5 < 10 is TRUE (1)
VAR s_lt = big_neg < small
STRINGLN [3.1] Signed LT (-5 < 10): $s_lt%d

// Unsigned Comparison
// ULT(-5, 10) means 4294967291 < 10 is FALSE (0)
VAR u_lt = ULT(big_neg, small)
STRINGLN [3.2] Unsigned ULT (-5 < 10): $u_lt%d

// Signed Greater Than
// -5 > 10 is FALSE (0)
VAR s_gt = big_neg > small
STRINGLN [3.3] Signed GT (-5 > 10): $s_gt%d

// Unsigned Greater Than
// UGT(-5, 10) means 4294967291 > 10 is TRUE (1)
VAR u_gt = UGT(big_neg, small)
STRINGLN [3.4] Unsigned UGT (-5 > 10): $u_gt%d


STRINGLN --- SECTION 4: Bitwise Shifts ---
VAR val = -16
// Binary: 11111111 11111111 11111111 11110000 (0xFFFFFFF0)

// Arithmetic Right Shift (>>)
// Preserves sign bit. -16 >> 2 = -4
VAR asr_res = val >> 2
STRINGLN [4.1] ASR (-16 >> 2): $asr_res%d (Hex: $asr_res%x)

// Logical Right Shift (LSR)
// Zero-fills. 0xFFFFFFF0 >> 2 = 0x3FFFFFFC
// 0x3FFFFFFC = 1073741820
VAR lsr_res = LSR(val, 2)
STRINGLN [4.2] LSR (-16 >> 2): $lsr_res%u (Hex: $lsr_res%x)

STRINGLN --- END OF TEST ---